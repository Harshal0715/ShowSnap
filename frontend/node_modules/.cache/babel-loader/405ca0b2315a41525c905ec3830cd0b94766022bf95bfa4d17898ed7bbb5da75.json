{"ast":null,"code":"import axios from 'axios';\nconst API = axios.create({\n  baseURL: 'http://localhost:5000/api',\n  timeout: 10000 // ⏱️ Prevent hanging requests\n});\n\n// 🎬 Movies\nexport const fetchMovies = () => API.get('/movies');\nexport const getMovieById = id => API.get(`/movies/${id}`);\n\n// 👤 Auth\nexport const loginUser = data => API.post('/users/login', data);\nexport const signupUser = data => API.post('/users/signup', data);\n\n// 🎟️ Bookings\nexport const bookSeats = async (data, token) => {\n  try {\n    return await API.post('/bookings', data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  } catch (err) {\n    var _err$response;\n    console.error('API booking error:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n    throw err;\n  }\n};\nexport const getUserBookings = (userId, token) => API.get(`/bookings/user/${userId}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const cancelBooking = (bookingId, token) => API.put(`/bookings/cancel/${bookingId}`, null, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\n\n// 🛡️ Admin\nexport const getAllBookings = token => API.get('/admin/bookings', {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const deleteMovie = (movieId, token) => API.delete(`/admin/movies/${movieId}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const createMovie = (movieData, token) => API.post('/admin/movies', movieData, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});","map":{"version":3,"names":["axios","API","create","baseURL","timeout","fetchMovies","get","getMovieById","id","loginUser","data","post","signupUser","bookSeats","token","headers","Authorization","err","_err$response","console","error","response","message","getUserBookings","userId","cancelBooking","bookingId","put","getAllBookings","deleteMovie","movieId","delete","createMovie","movieData"],"sources":["C:/Users/Harshal/Desktop/showsnap/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n  timeout: 10000, // ⏱️ Prevent hanging requests\r\n});\r\n\r\n// 🎬 Movies\r\nexport const fetchMovies = () => API.get('/movies');\r\nexport const getMovieById = (id) => API.get(`/movies/${id}`);\r\n\r\n// 👤 Auth\r\nexport const loginUser = (data) => API.post('/users/login', data);\r\nexport const signupUser = (data) => API.post('/users/signup', data);\r\n\r\n// 🎟️ Bookings\r\nexport const bookSeats = async (data, token) => {\r\n  try {\r\n    return await API.post('/bookings', data, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n  } catch (err) {\r\n    console.error('API booking error:', err.response?.data || err.message);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const getUserBookings = (userId, token) =>\r\n  API.get(`/bookings/user/${userId}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\nexport const cancelBooking = (bookingId, token) =>\r\n  API.put(`/bookings/cancel/${bookingId}`, null, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\n// 🛡️ Admin\r\nexport const getAllBookings = (token) =>\r\n  API.get('/admin/bookings', {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\nexport const deleteMovie = (movieId, token) =>\r\n  API.delete(`/admin/movies/${movieId}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\nexport const createMovie = (movieData, token) =>\r\n  API.post('/admin/movies', movieData, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,2BAA2B;EACpCC,OAAO,EAAE,KAAK,CAAE;AAClB,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAMJ,GAAG,CAACK,GAAG,CAAC,SAAS,CAAC;AACnD,OAAO,MAAMC,YAAY,GAAIC,EAAE,IAAKP,GAAG,CAACK,GAAG,CAAC,WAAWE,EAAE,EAAE,CAAC;;AAE5D;AACA,OAAO,MAAMC,SAAS,GAAIC,IAAI,IAAKT,GAAG,CAACU,IAAI,CAAC,cAAc,EAAED,IAAI,CAAC;AACjE,OAAO,MAAME,UAAU,GAAIF,IAAI,IAAKT,GAAG,CAACU,IAAI,CAAC,eAAe,EAAED,IAAI,CAAC;;AAEnE;AACA,OAAO,MAAMG,SAAS,GAAG,MAAAA,CAAOH,IAAI,EAAEI,KAAK,KAAK;EAC9C,IAAI;IACF,OAAO,MAAMb,GAAG,CAACU,IAAI,CAAC,WAAW,EAAED,IAAI,EAAE;MACvCK,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUF,KAAK;MAAG;IAC9C,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOG,GAAG,EAAE;IAAA,IAAAC,aAAA;IACZC,OAAO,CAACC,KAAK,CAAC,oBAAoB,EAAE,EAAAF,aAAA,GAAAD,GAAG,CAACI,QAAQ,cAAAH,aAAA,uBAAZA,aAAA,CAAcR,IAAI,KAAIO,GAAG,CAACK,OAAO,CAAC;IACtE,MAAML,GAAG;EACX;AACF,CAAC;AAED,OAAO,MAAMM,eAAe,GAAGA,CAACC,MAAM,EAAEV,KAAK,KAC3Cb,GAAG,CAACK,GAAG,CAAC,kBAAkBkB,MAAM,EAAE,EAAE;EAClCT,OAAO,EAAE;IAAEC,aAAa,EAAE,UAAUF,KAAK;EAAG;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMW,aAAa,GAAGA,CAACC,SAAS,EAAEZ,KAAK,KAC5Cb,GAAG,CAAC0B,GAAG,CAAC,oBAAoBD,SAAS,EAAE,EAAE,IAAI,EAAE;EAC7CX,OAAO,EAAE;IAAEC,aAAa,EAAE,UAAUF,KAAK;EAAG;AAC9C,CAAC,CAAC;;AAEJ;AACA,OAAO,MAAMc,cAAc,GAAId,KAAK,IAClCb,GAAG,CAACK,GAAG,CAAC,iBAAiB,EAAE;EACzBS,OAAO,EAAE;IAAEC,aAAa,EAAE,UAAUF,KAAK;EAAG;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMe,WAAW,GAAGA,CAACC,OAAO,EAAEhB,KAAK,KACxCb,GAAG,CAAC8B,MAAM,CAAC,iBAAiBD,OAAO,EAAE,EAAE;EACrCf,OAAO,EAAE;IAAEC,aAAa,EAAE,UAAUF,KAAK;EAAG;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMkB,WAAW,GAAGA,CAACC,SAAS,EAAEnB,KAAK,KAC1Cb,GAAG,CAACU,IAAI,CAAC,eAAe,EAAEsB,SAAS,EAAE;EACnClB,OAAO,EAAE;IAAEC,aAAa,EAAE,UAAUF,KAAK;EAAG;AAC9C,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}